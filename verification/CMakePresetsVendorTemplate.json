{
    "version": 9,
    "cmakeMinimumRequired": {
        "major": 3,
        "minor": 30,
        "patch": 0
    },
    "configurePresets": [],
    "buildPresets": [],
    "workflowPresets": [],
    "packagePresets": [],
    "testPresets": [],
    "vendor": {
        "tcpm": {
            "version": 1,
            "onload": [
                "$('#preset-group-build parameters toolchain').json($('#preset-group-config parameters toolchain').json()).exp()",
                "$('#preset-group-build parameters language').json($('#preset-group-config parameters language').json()).exp()",
                "$('#preset-group-build parameters configuration').json($('#config-common cacheVariables CMAKE_CONFIGURATION_TYPES').text().split(';')).exp()",
                "$('#preset-group-workflow shape-parameters configuration').json($('#config-common cacheVariables CMAKE_CONFIGURATION_TYPES').text().split(';')).exp()",
                "$('#preset-group-workflow parameters toolchain').json($('#preset-group-config parameters toolchain').json()).exp()",
                "$('#preset-group-workflow parameters language').json($('#preset-group-config parameters language').json()).exp()"
            ],
            "static": {
                "workflow-displayName-clang-native": "Native configure, build, and test (clang).",
                "workflow-description-clang-native": "Configure, compile, and test on the local system using a clang toolchain.",
                "workflow-displayName-gcc-native": "Native configure, build, and test (gcc).",
                "workflow-description-gcc-native": "Configure, compile, and test on the local system using a gcc toolchain.",
                "workflow-displayName-gcc-native32": "32-bit linux configure, build, and test (gcc).",
                "workflow-description-gcc-native32": "Configure, compile, and test on the local system using a gcc toolchain with -m32 set.",
                "workflow-displayName-gcc-arm-none-eabi": "Configure, build, and install on arm cores (gcc).",
                "workflow-description-gcc-arm-none-eabi": "Configure, compile, and flash arm cores using a gcc toolchain.",
                "gcc-native-targets": [
                    "test_all"
                ],
                "gcc-native32-targets": [
                    "test_all"
                ],
                "clang-native-targets": [
                    "test_all"
                ],
                "gcc-arm-none-eabi-targets": [
                    "test_armv7m"
                ],
                "language-values": {
                    "c-11": {
                        "name": "c",
                        "standard": "c11",
                        "args": "--embed-auditing-info"
                    },
                    "c-11-arr-override": {
                        "name": "c",
                        "standard": "c11",
                        "args": "--enable-override-variable-array-capacity;--embed-auditing-info"
                    },
                    "c-17": {
                        "name": "c",
                        "standard": "c17",
                        "args": "--enable-override-variable-array-capacity;--embed-auditing-info"
                    },
                    "c-23": {
                        "name": "c",
                        "standard": "c23",
                        "args": "--enable-override-variable-array-capacity;--embed-auditing-info"
                    },
                    "cpp-14": {
                        "name": "cpp",
                        "standard": "c++14",
                        "args": "--embed-auditing-info"
                    },
                    "cetl-14-17": {
                        "name": "cpp",
                        "standard": "cetl++14-17",
                        "args": "--embed-auditing-info"
                    },
                    "cpp-17": {
                        "name": "cpp",
                        "standard": "c++17",
                        "args": "--embed-auditing-info"
                    },
                    "cpp-17-pmr": {
                        "name": "cpp",
                        "standard": "c++17-pmr",
                        "args": "--embed-auditing-info"
                    },
                    "cpp-20": {
                        "name": "cpp",
                        "standard": "c++20",
                        "args": "--embed-auditing-info"
                    },
                    "cpp-20-pmr": {
                        "name": "cpp",
                        "standard": "c++20-pmr",
                        "args": "--embed-auditing-info"
                    }
                },
                "toolchain-platform": {
                    "gcc-arm-none-eabi": "armv7m",
                    "gcc-native": "native",
                    "gcc-native32": "native32",
                    "clang-native": "native"
                }
            },
            "preset-groups": {
                "configure": {
                    "name": "preset-group-config",
                    "common": [
                        "config-common"
                    ],
                    "parameters": {
                        "toolchain": [
                            "gcc-arm-none-eabi",
                            "gcc-native",
                            "gcc-native32",
                            "clang-native"
                        ],
                        "language": [
                            "c-11",
                            "c-11-arr-override",
                            "c-17",
                            "c-23",
                            "cpp-14",
                            "cetl-14-17",
                            "cpp-17",
                            "cpp-17-pmr",
                            "cpp-20",
                            "cpp-20-pmr"
                        ]
                    },
                    "shape": {
                        "toolchain": {
                            "toolchainFile": "${{sourceDir}}/cmake/toolchains/{parameter}.cmake",
                            "cacheVariables": {
                                "NUNAVUT_VERIFICATION_TARGET_PLATFORM": "{{{pq}(this).text({pq}('vendor tcpm static toolchain-platform {parameter}').text())}}"
                            }
                        },
                        "language": {
                            "cacheVariables": {
                                "NUNAVUT_VERIFICATION_LANG": "{{{pq}(this).text({pq}('vendor tcpm static language-values {parameter} name').text())}}",
                                "NUNAVUT_VERIFICATION_LANG_STANDARD": "{{{pq}(this).text({pq}('vendor tcpm static language-values {parameter} standard').text())}}",
                                "NUNAVUT_EXTRA_GENERATOR_ARGS": "{{{pq}(this).text({pq}('vendor tcpm static language-values {parameter} args').text())}}"
                            }
                        }
                    }
                },
                "build": {
                    "name": "preset-group-build",
                    "parameters": {
                        "toolchain": [],
                        "language": [],
                        "configuration": []
                    },
                    "shape": {
                        "configuration": {
                            "configurePreset": "{pq}(this).literal('{name}').replace('{prefix}{sep}{parameter}', '{groups[configure][prefix]}')",
                            "configuration": "{parameter}"
                        },
                        "toolchain": {
                            "targets": "{pq}(this).json({pq}('vendor tcpm static {parameter}-targets').json())"
                        },
                        "language": {}
                    }
                },
                "workflow": {
                    "name": "preset-group-workflow",
                    "parameters": {
                        "toolchain": [],
                        "language": []
                    },
                    "shape-parameters": {
                        "configuration": []
                    },
                    "exclude": [
                        {
                            "toolchain": "gcc-arm-none-eabi",
                            "configuration": ["DebugAsan", "DebugCov"]
                        },
                        {
                            "toolchain": ["gcc-native", "gcc-arm-none-eabi", "gcc-native32"],
                            "configuration": ["DebugCov"]
                        }
                    ],
                    "shape": {
                        "toolchain": {
                            "displayName": "{{{pq}(this).text({pq}('vendor tcpm static workflow-displayName-{parameter}').text())}}",
                            "description": "TCPM, auto-generated workflow: {{{pq}(this).text({pq}('vendor tcpm static workflow-displayName-{parameter}').text())}}",
                            "steps": [
                                {
                                    "type": "configure",
                                    "name": "{pq}(this).literal('{name}').replace('{groups[workflow][prefix]}{sep}', '{groups[configure][prefix]}{sep}')"
                                }
                            ]
                        },
                        "configuration": {
                            "steps": [
                                {
                                    "type": "build",
                                    "name": "{pq}(this).literal('{name}').replace('{groups[workflow][prefix]}{sep}', '{groups[build][prefix]}{sep}{parameter}{sep}')"
                                }
                            ]
                        },
                        "language": {}
                    }
                }
            }
        }
    }
}
