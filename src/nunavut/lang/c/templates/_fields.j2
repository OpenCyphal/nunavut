{%- if composite_type.fields | length == 0 %}
{#- 
    C++ doesn't tolerate empty types. To maintain compatibility we define any empty
    composite type as a byte.
#}
    {{ typename_byte }} _dummy_;
{%- else %}
{%- for field in composite_type.fields %}
{%- if field is not padding %}
    {{ field.data_type | declaration }} {{ field | id }}
    {%- if field.data_type is ArrayType -%}
        [{{ field.data_type.capacity }}]
    {%- endif -%};
{%- if field is VariableLengthArrayType %}
    {{ typename_unsigned_length }} {{ field | id }}_length;
{%- endif -%}
{%- endif -%}
{%- endfor %}
{%- endif %}